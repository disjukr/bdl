# standard - conventional

import swagger.petstore.entity { ApiResponse, Pet, PetStatus }

@ http - PUT /pet
@ oas_security
| - petstore_auth:
|     - 'write:pets'
|     - 'read:pets'
@ oas_tags - pet
@ oas_summary - Update an existing pet.
@ description - Update an existing pet by Id.
proc UpdatePet = Pet -> UpdatePetOutput throws UpdatePetError

oneof UpdatePetOutput {
  @ oas_status - 200
  @ description - Successful operation
  Pet,
}

oneof UpdatePetError {
  @ oas_status - 400
  @ description - Invalid ID supplied
  void,

  @ oas_status - 404
  @ description - Pet not found
  void,

  @ oas_status - 422
  @ description - Validation exception
  void,

  @ oas_status - default
  @ description - Unexpected error
  void,
}

@ http - POST /pet
@ oas_security
| - petstore_auth:
|     - 'write:pets'
|     - 'read:pets'
@ oas_tags - pet
@ oas_summary - Add a new pet to the store.
@ description - Add a new pet to the store.
proc AddPet = Pet -> AddPetOutput throws AddPetError

oneof AddPetOutput {
  @ oas_status - 200
  @ description - Successful operation
  Pet,
}

oneof AddPetError {
  @ oas_status - 400
  @ description - Invalid input
  void,

  @ oas_status - 422
  @ description - Validation exception
  void,

  @ oas_status - default
  @ description - Unexpected error
  void,
}

@ http - GET /pet/findByStatus
@ oas_security
| - petstore_auth:
|     - 'write:pets'
|     - 'read:pets'
@ oas_tags - pet
@ oas_summary - Finds Pets by status.
@ description - Multiple status values can be provided with comma separated strings.
proc FindPetsByStatus =
  FindPetsByStatusInput ->
  FindPetsByStatusOutput throws FindPetsByStatusError

struct FindPetsByStatusInput {
  @ in - query
  @ description - Status values that need to be considered for filter
  status: PetStatus,
}

oneof FindPetsByStatusOutput {
  @ oas_status - 200
  @ description - successful operation
  Pet[],
}

oneof FindPetsByStatusError {
  @ oas_status - 400
  @ description - Invalid status value
  void,

  @ oas_status - default
  @ description - Unexpected error
  void,
}

@ http - GET /pet/findByTags
@ oas_security
| - petstore_auth:
|     - 'write:pets'
|     - 'read:pets'
@ oas_tags - pet
@ oas_summary - Finds Pets by tags.
@ description - Multiple tags can be provided with comma separated strings. Use tag1, tag2, tag3 for testing.
proc FindPetsByTags =
  FindPetsByTagsInput ->
  FindPetsByTagsOutput throws FindPetsByTagsError

struct FindPetsByTagsInput {
  @ in - query
  @ description - Tags to filter by
  tags: string[],
}

oneof FindPetsByTagsOutput {
  @ oas_status - 200
  @ description - successful operation
  Pet[],
}

oneof FindPetsByTagsError {
  @ oas_status - 400
  @ description - Invalid tag value
  void,

  @ oas_status - default
  @ description - Unexpected error
  void,
}

@ http - GET /pet/{petId}
@ oas_security
| - api_key: []
| - petstore_auth:
|     - 'write:pets'
|     - 'read:pets'
@ oas_tags - pet
@ oas_summary - Find pet by ID.
@ description - Returns a single pet.
proc GetPetById = GetPetByIdInput -> GetPetByIdOutput throws GetPetByIdError

struct GetPetByIdInput {
  @ in - path
  @ description - ID of pet to return
  petId: int64,
}

oneof GetPetByIdOutput {
  @ oas_status - 200
  @ description - successful operation
  Pet,
}

oneof GetPetByIdError {
  @ oas_status - 400
  @ description - Invalid ID supplied
  void,

  @ oas_status - 404
  @ description - Pet not found
  void,

  @ oas_status - default
  @ description - Unexpected error
  void,
}

@ http - POST /pet/{petId}
@ oas_security
| - petstore_auth:
|     - 'write:pets'
|     - 'read:pets'
@ oas_tags - pet
@ oas_summary - Updates a pet in the store with form data.
@ description - Updates a pet resource based on the form data.
proc UpdatePetWithForm =
  UpdatePetWithFormInput ->
  UpdatePetWithFormOutput throws UpdatePetWithFormError

struct UpdatePetWithFormInput {
  @ in - path
  @ description - ID of pet that needs to be updated
  petId: int64,

  @ in - query
  @ description - Name of pet that needs to be updated
  name?: string,

  @ in - query
  @ description - Status of pet that needs to be updated
  status?: string,
}

oneof UpdatePetWithFormOutput {
  @ oas_status - 200
  @ description - successful operation
  Pet,
}

oneof UpdatePetWithFormError {
  @ oas_status - 400
  @ description - Invalid input
  void,

  @ oas_status - default
  @ description - Unexpected error
  void,
}

@ http - DELETE /pet/{petId}
@ oas_security
| - petstore_auth:
|     - 'write:pets'
|     - 'read:pets'
@ oas_tags - pet
@ oas_summary - Deletes a pet.
@ description - Delete a pet.
proc DeletePet = DeletePetInput -> DeletePetOutput throws DeletePetError

struct DeletePetInput {
  @ in - header
  api_key?: string,

  @ in - path
  @ description - Pet id to delete
  petId: int64,
}

oneof DeletePetOutput {
  @ oas_status - 200
  @ description - Pet deleted
  void,
}

oneof DeletePetError {
  @ oas_status - 400
  @ description - Invalid pet value
  void,

  @ oas_status - default
  @ description - Unexpected error
  void,
}

@ http - POST /pet/{petId}/uploadImage
@ oas_security
| - petstore_auth:
|     - 'write:pets'
|     - 'read:pets'
@ oas_tags - pet
@ oas_summary - Uploads an image.
@ description - Upload image of the pet.
proc UploadFile = UploadFileInput -> UploadFileOutput throws UploadFileError

struct UploadFileInput {
  @ in - path
  @ description - ID of pet to update
  petId: int64,

  @ in - query
  @ description - Additional Metadata
  additionalMetadata?: string,
}

oneof UploadFileOutput {
  @ oas_status - 200
  @ description - successful operation
  ApiResponse,
}

oneof UploadFileError {
  @ oas_status - 400
  @ description - No file uploaded
  void,

  @ oas_status - 404
  @ description - Pet not found
  void,

  @ oas_status - default
  @ description - Unexpected error
  void,
}
